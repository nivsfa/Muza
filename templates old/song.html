<!DOCTYPE html>
<html>
<head>
    <title>{{ song_name }}</title>
    <style>
        html, body {
            height: 100%;
        }
        .container {
            display: flex;
            height: 100%;
        }
        .menu {
            width: 200px;
            background-color: lightgray;
            padding: 20px;
        }
        .main {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        form {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        textarea {
            flex: 1;
            width: 100%;
            height: 100%;
            font-family: Arial, sans-serif;
            font-size: 16px;
            line-height: 1.5;
            background-color: white;
            border: none;
            padding: 20px;
            box-sizing: border-box;
            /* Add notebook-like appearance */
            background-image: url('data:image/png;base64,iVBORw0KGg....');
            background-size: 100% 100%;
            background-repeat: repeat;
        }
        button {
            margin-top: 20px;
            padding: 10px 20px;
            background-color: lightgreen;
            border: none;
            border-radius: 5px;
            font-family: Arial, sans-serif;
            font-size: 16px;
            color: white;
            cursor: pointer;
        }
        button:hover {
            background-color: green;
        }
         .blue-button {
             background-color: blue;
             border-radius: 50%;
             width: 20px;
             height: 20px;
             color: white;
         }
    </style>
</head>
<body>
<div class="header">
    <h1>Muza</h1>
    <p>Your personal AI assisted songs notebook</p>
    <style>
        .header {
            text-align: center;
            background-color: lightgray;
            padding: 20px;
        }
        .header h1 {
            font-size: 48px;
            margin: 0;
        }
        .header p {
            font-size: 16px;
            margin: 0;
        }
    </style>
</div>
<div class="container">
    <div class="menu">
        <h1>My Songs</h1>
        <ul>
            {% for song in songs %}
            <li><a href="{{ url_for('song', song_name=song) }}">{{ song }}</a></li>
            {% endfor %}
        </ul>
        <button id="add_song_button">Add a new song</button>
        <form id="add_song_form" method="post">
            <label for="song_name">Song Name:</label><br>
            <input type="text" id="song_name" name="song_name"><br>
            <button type="submit" name="add_song" value="add_song">Add</button>
        </form>
        <br>
        <a href="{{ url_for('index') }}"><button>Return to home page</button></a>
    </div>
    <!-- Add a container for the text boxes -->
    <div id="song-lines">
        {% for line in text.split('\n') %}
        <div>
            <button class="blue-button">+</button>
            <input type="text" class="song-line" value="{{ line }}">
        </div>
        {% endfor %}
    </div>

    <!-- Add a script to insert a new text box when the user presses enter in the last text box -->
    <script>
        const lines = document.querySelector('#song-lines');
        lines.addEventListener('keydown', event => {
            if (event.key === 'Enter' && event.target.classList.contains('song-line')) {
                // Insert a new text box
                const line = document.createElement('div');
                line.innerHTML = '<input type="text" class="song-line">';
                lines.appendChild(line);
                // Focus the new text box
                line.querySelector('.song-line').focus();
            }
        });
    </script>
    <script>
        var textBox = document.getElementById("text-box");
        textBox.addEventListener("keydown", function(event) {
            if (event.key === "Enter") {
                // Create a new div element
                var lineContainer = document.createElement("div");
                lineContainer.className = "line-container";
                // Create a new button element
                var button = document.createElement("button");
                button.className = "blue-button";
                button.textContent = "+";
                // Append the button to the div element
                lineContainer.appendChild(button);
                // Create a new text box element
                var newTextBox = document.createElement("input");
                newTextBox.type = "text";
                newTextBox.className = "text-box";
                // Append the text box to the div element
                lineContainer.appendChild(newTextBox);
                // Append the div element to the page
                document.body.appendChild(lineContainer);
            }
        });
    </script>

</div>
<script>
    // Get the add song form and the add song button
    const addSongForm = document.getElementById('add_song_form');
    const addSongButton = document.getElementById('add_song_button');

    // Hide the add song form by default
    addSongForm.style.display = 'none';

    // When the add song button is clicked, toggle the visibility of the add song form
    addSongButton.addEventListener('click', () => {
        if (addSongForm.style.display === 'none') {
            addSongForm.style.display = 'block';
        } else {
            addSongForm.style.display = 'none';
        }
    });
</script>
</body>
</html>